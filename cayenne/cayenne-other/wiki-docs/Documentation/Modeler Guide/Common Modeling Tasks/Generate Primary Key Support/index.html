<!--
   Licensed to the Apache Software Foundation (ASF) under one
   or more contributor license agreements.  See the NOTICE file
   distributed with this work for additional information
   regarding copyright ownership.  The ASF licenses this file
   to you under the Apache License, Version 2.0 (the
   "License"); you may not use this file except in compliance
   with the License.  You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
   Unless required by applicable law or agreed to in writing,
   software distributed under the License is distributed on an
   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   KIND, either express or implied.  See the License for the
   specific language governing permissions and limitations
   under the License.
-->
<html>
  <head>
    <title>Apache Cayenne Documentation - Generate Primary Key Support</title>
    <style type="text/css">@import "../../../../style.css";</style>
  </head>
<body>
  <div class="header">
    <div style="float: left;"><a href="http://incubator.apache.org/cayenne/"><img src="../../../../images/logo.gif" align="absmiddle" border="0"></a></div>
    <span class="logoSpaceLink"><a href="../../../../index.html">Cayenne User Documentation</a></span><br />
    <span class="pagetitle">Generate Primary Key Support</span>
  </div>
<div id="cayenne_toc">
<ul>
<li><a href="../../../../Documentation/Modeler Guide/Introduction to CayenneModeler/index.html">Introduction to CayenneModeler</a></li>
<li><a href="../../../../Documentation/Modeler Guide/ORM Case Study/index.html">ORM Case Study</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Cayenne Project Structure/index.html">Cayenne Project Structure</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/index.html">Common Modeling Tasks</a><ul>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Create New Project/index.html">Create New Project</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Create DataNode/index.html">Create DataNode</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Reverse Engineer Database/index.html">Reverse Engineer Database</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Generate Java Classes/index.html">Generate Java Classes</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Generate Database Schema/index.html">Generate Database Schema</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Generate Primary Key Support/index.html">Generate Primary Key Support</a><ul>
</ul>
</li>
<li><a href="../../../../Documentation/Modeler Guide/Common Modeling Tasks/Setting DataMap Defaults/index.html">Setting DataMap Defaults</a></li>
</ul>
</li>
<li><a href="../../../../Documentation/Modeler Guide/Modeling Database Layer/index.html">Modeling Database Layer</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Modeling Object Layer/index.html">Modeling Object Layer</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Modeling Queries/index.html">Modeling Queries</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Configuring Deployment Settings/index.html">Configuring Deployment Settings</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Preferences Panel/index.html">Preferences Panel</a></li>
<li><a href="../../../../Documentation/Modeler Guide/Modeling Tips/index.html">Modeling Tips</a></li>
</ul>
</div>
<div id="ConfluenceContent">

<h3><a name="GeneratePrimaryKeySupport-GeneratePrimaryKeySupport"></a>Generate Primary Key Support</h3>

<p>One of Cayenne core features is automatic generation of the database primary keys for the new objects. This requires a set of special database objects to be present in the database. Those are adapter-specific and can be special lookup tables, stored procedures, sequences, etc. If the database schema was generated by CayenneModeler as described in previous chapters, chances are that all needed database objects were already created. Otherwise, if there was an existing schema, these objects must be created in the database. The easiest way to do that is to use CayenneModeler "<tt>Tools &gt; Generate Database Schema</tt>" menu item, setting special generation options.</p>

<p><b>Create Primary Key Support.</b> Select a DataMap and choose "<tt>Tools -&gt; Generate Database Schema</tt>" from the menu, "Connect to Database" dialog appears.</p>

<p><img src="generate-connect.jpg" align="absmiddle" border="0" /></p>

<p><b>Configure Database Connection.</b> "Connect to Database" dialog allows to specify alternative connection parameters. If a DataMap has a DataNode, then this DataNode connection information is shown by default. You can use suggested default connection, select one of the stored local DataSources from "Saved DataSources" dropdown (those can be edited on the spot by clicking "..." button), or type your own info. When desired connection is selected, click "Continue". Cayenne will attempt to connect to the database and if connection is successful, "Options" dialog is presented.</p>

<p><img src="generate-options-pk.jpg" align="absmiddle" border="0" /></p>

<p>You must uncheck all options except for "Create Primary key Support", and then click "Generate". If there were any database specific errors during generation they will be listed in a status window. Sometimes such errors can be simply ignored (e.g. when a there was an existing primary key support already configured in the DB).</p></div>
</div>
  <div class="clearer">.</div>
  <div style="height: 12px; background-image: url('../../../../images/border_bottom.gif'); background-repeat: repeat-x;"></div>

  <div class="smalltext copyright">
    Copyright &copy;2001-2006 Apache Software Foundation
  </div>

</body>
</html>
